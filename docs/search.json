[
  {
    "objectID": "posts/001_mapa_cantones_cr.html",
    "href": "posts/001_mapa_cantones_cr.html",
    "title": "Actualizando el mapa de cantones de Costa Rica con R",
    "section": "",
    "text": "A inicios de 2024 en Costa Rica, se realizaron elecciones municipales. Una vez publicados los resultados, tuve la idea de replicar un gr√°fico sencillo: un mapa con ggplot2 de los cantones de Costa Rica, y pintar en colores el partido pol√≠tico que ha ganado en cada una de las regiones. Para ahorrar tiempo hago una b√∫squeda r√°pida en google ‚Äúshapefile cantones Costa Rica‚Äù al descargar los datos y ejecutar mi c√≥digo, resulta que me hacen falta cantones. Despu√©s de un par de segundos de duda, record√© que en los √∫ltimos a√±os se han creado nuevos cantones. R√≠o Cuarto1 se separa del cant√≥n de Grecia, Monteverde2 de Puntarenas, y uno para mi muy sonado, ya que est√° muy cerca de donde vivo, Puerto Jim√©nez3 se separa de Golfito y pasa a ser un cant√≥n.\nSi a esto le sumamos que algunos cantones han cambiado de nombre, Alfaro Ruiz ahora es conocido como Zarcero4, Valverde Vega se ha transformado en Sarch√≠5, y Aguirre ha pasado a llamarse Quepos6. En este punto, algo que cre√≠ ser√≠an 10 l√≠neas de c√≥digo, un problema de copiar y pegar, se convert√≠a en algo m√°s interesante. As√≠ que en esta guia veremos c√≥mo realizar un gr√°fico actualizado de los cantones de Costa Rica, utilizando como fuente de datos los servicios del Instituto Geogr√°fico Nacional."
  },
  {
    "objectID": "posts/001_mapa_cantones_cr.html#obtener-datos-actualizados-del-ign",
    "href": "posts/001_mapa_cantones_cr.html#obtener-datos-actualizados-del-ign",
    "title": "Actualizando el mapa de cantones de Costa Rica con R",
    "section": "Obtener datos actualizados del IGN",
    "text": "Obtener datos actualizados del IGN\n\nAnte de comenzar\nVerifica que tengas instalados los siguientes paquetes:\n\nlibrary(tidyverse)\nlibrary(sf)\nlibrary(httr2)\nlibrary(ows4R)\nlibrary(rmapshaper)\nlibrary(janitor)\n\n\n\n\n\n\n\nSi en Windows tienes errores al instalar alguno de los paquetes, quiz√°s falte instalar Rtools. Desc√°rgalo de este enlace y reinicia antes de intentar de nuevo.\n\n\n\n\n\nDescargar datos del IGN\nEl Instituto Geogr√°fico Nacional es la principal fuente de cartograf√≠a en Costa Rica, ofreciendo datos geoespaciales actualizados. Para obtener un shapefile espec√≠fico para nuestro mapa, recurriremos al servicio WFS en R, enfoc√°ndonos en la divisi√≥n cantonal.\n\nPaso 1: Acceder al IGN\n\nVisita la p√°gina de servicios OGC del IGN. En la secci√≥n de nodos locales, selecciona el servicio IGN Cartograf√≠a 1:5mil CO.\n\n\nPaso 2: Identificar la URL del Servicio WFS\n\nA continuaci√≥n, localizaremos la URL del servicio WFS que utilizaremos, tal como se muestra en la imagen adjunta.\n\n\nPaso 3: Identificar las capas disponibles\n\nMediante el uso del paquete ows4R en R, consultaremos los identificadores de las capas disponibles. Esto nos permitir√° seleccionar y descargar la capa adecuada, ya sea a nivel de provincia, cant√≥n o distrito.\n\nurl_wfs &lt;- \"https://geos.snitcr.go.cr/be/IGN_5_CO/wfs?\"\n\n\nbwk_client &lt;- WFSClient$new(\n  url = url_wfs,\n  serviceVersion = \"2.0.0\"\n)\n\nas_tibble(bwk_client$getFeatureTypes(pretty = TRUE))\n\n# A tibble: 4 √ó 2\n  name                         title                                            \n  &lt;chr&gt;                        &lt;chr&gt;                                            \n1 IGN_5_CO:curvas_5000_2017    Curvas de nivel cada 10 metros 1:5.000 a√±o 2017 ‚Ä¶\n2 IGN_5_CO:limitedistrital_5k  DTA (L√≠mite Distrital)                           \n3 IGN_5_CO:limitecantonal_5k   L√≠mite Cantonal                                  \n4 IGN_5_CO:limiteprovincial_5k L√≠mite Provincial                                \n\n\n\n\nEl c√≥digo para usar servicios WFS proviene del post ‚ÄúSpatial WFS Services‚Äù por Thierry Onkelinx, Hans Van Calster, y Floris Vanderhaeghe. Leer m√°s\n\nAdaptamos funciones para migrar a httr2 desde httr. Consulta httr2 para detalles.\n\nPaso 4: Descargar los datos\n\nPara descargar los cantones de Costa Rica, utilizaremos la capa denominada IGN_5_CO:limitecantonal_5k.\n\nurl &lt;- url_parse(url_wfs)\nurl$query &lt;- list(\n  service = \"wfs\",\n  request = \"GetFeature\",\n  typename = \"IGN_5_CO:limitecantonal_5k\",\n  srsName = \"EPSG:4326\"\n  )\nrequest &lt;- url_build(url) \n\nregiones &lt;- read_sf(request) |&gt; \n  select(\n    \"C√ìDIGO_DE_PROVINCIA\",\n    \"PROVINCIA\",\"C√ìDIGO_CANT√ìN\",\"CANT√ìN\"\n  )\nst_crs(regiones) &lt;- st_crs(4326)\n\n\n\nUn agradecimiento a Manuel Eduardo Saavedra N√∫√±ez, quien, con un comentario en Facebook, nos hizo ver que el resultado de read_sf(request) contiene nombres de columnas duplicados. Por lo tanto, nos quedaremos desde el inicio solamente con las columnas que nos interesan.\nAhora, revisemos lo descargado: encontramos nombres de cantones, sus provincias correspondientes y SHAPE, el pol√≠gono que representa a cada cant√≥n en el mapa.\n\nglimpse(regiones)\n\nRows: 84\nColumns: 5\n$ C√ìDIGO_DE_PROVINCIA &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,‚Ä¶\n$ PROVINCIA           &lt;chr&gt; \"San Jos√©\", \"San Jos√©\", \"San Jos√©\", \"San Jos√©\", \"S‚Ä¶\n$ C√ìDIGO_CANT√ìN       &lt;int&gt; 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, ‚Ä¶\n$ CANT√ìN              &lt;chr&gt; \"San Jos√©\", \"Escaz√∫\", \"Desamparados\", \"Puriscal\", ‚Ä¶\n$ SHAPE               &lt;MULTIPOLYGON [¬∞]&gt; MULTIPOLYGON (((-84.17302 9..., MULTI‚Ä¶\n\n\n\nx &lt;- object.size(regiones)\nprint(x, units = \"auto\")\n\n20.3 Mb\n\n\nAl mirar el peso del objeto regiones, notamos que es considerablemente grande. Esto se debe a que, para asegurar una cartograf√≠a precisa del pa√≠s, el IGN emplea una precisi√≥n mucho mayor de la necesaria para la mayor√≠a de los mapas que crearemos con ggplot2.\nPara concluir este paso, crearemos un mapa con el paquete ggplot2, usando espec√≠ficamente la geometr√≠a geom_sf().\n\nggplot(\n  data = regiones\n) +\n  geom_sf(color = \"white\", fill = \"#365486\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nPaso 5: Simplificar el mapa\n\nDado que el mapa est√° formado por pol√≠gonos, podemos simplificar estos pol√≠gonos eliminando lados. Esto reduce la precisi√≥n, pero a la escala de un mapa com√∫n creado con ggplot2, ser√° imperceptible. Sin embargo, lograremos reducir considerablemente el tama√±o del objeto, facilitando el trabajo en equipos con recursos limitados.\n\nregiones_simplificadas &lt;- ms_simplify(\n  input = regiones,\n  keep = 0.05,\n  keep_shapes = FALSE\n)\n\n# eliminar la isla del coco\nregiones_simplificadas &lt;- ms_filter_islands(\n  input = regiones_simplificadas,\n  min_area = 24000000\n)\n\n\nx &lt;- object.size(regiones_simplificadas)\nprint(x, units = \"auto\")\n\n1.3 Mb\n\n\n\nPaso 6: Guardar los datos localmente\n\nCon los datos ya listos, procederemos a guardarlos localmente. Aunque es posible usar el formato shapefile o GeoJSON, en este caso optaremos por GeoJSON.\n\n\nRecomiendo la lectura del post ‚ÄúLimitaciones e inconvenientes del shapefile‚Äù Leer m√°s. ¬°Gracias, Roberto, por tu excelente contenido!\n\nwrite_sf(\n  obj = regiones_simplificadas, dsn = \"cantones_cr.geojson\")\n\n\nPaso 7: Leer archivos GeoJSON\n\nSi despu√©s de un tiempo deseamos utilizar nuevamente los datos, podemos leerlos f√°cilmente con la funci√≥n st_read() de la librer√≠a sf.\n\ncantones &lt;- st_read(\"cantones_cr.geojson\", quiet = TRUE)\n\n\nggplot(\n  data = cantones\n) +\n  geom_sf(color = \"white\", fill = \"#365486\") +\n  theme_minimal()"
  },
  {
    "objectID": "posts/001_mapa_cantones_cr.html#graficar-resultados-de-las-elecciones-municipales-2024",
    "href": "posts/001_mapa_cantones_cr.html#graficar-resultados-de-las-elecciones-municipales-2024",
    "title": "Actualizando el mapa de cantones de Costa Rica con R",
    "section": "Graficar resultados de las elecciones municipales 2024",
    "text": "Graficar resultados de las elecciones municipales 2024\nAhora que contamos con el ‚Äúlienzo‚Äù para dibujar nuestros datos, agregaremos al mapa los resultados electorales del pasado 4 de febrero. Lo primero ser√° leer los datos almacenados en formato GeoJSON, seleccionando √∫nicamente las columnas que nos interesan: provincia, canton y geometry.\n\ncantones &lt;- st_read(\n  dsn = \"cantones_cr.geojson\",\n  quiet = TRUE\n  ) |&gt; \n  clean_names()\n\n\nglimpse(cantones)\n\nRows: 84\nColumns: 5\n$ codigo_de_provincia &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,‚Ä¶\n$ canton              &lt;chr&gt; \"San Jos√©\", \"Escaz√∫\", \"Desamparados\", \"Puriscal\", ‚Ä¶\n$ provincia           &lt;chr&gt; \"San Jos√©\", \"San Jos√©\", \"San Jos√©\", \"San Jos√©\", \"S‚Ä¶\n$ codigo_canton       &lt;int&gt; 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, ‚Ä¶\n$ geometry            &lt;MULTIPOLYGON [¬∞]&gt; MULTIPOLYGON (((-84.15569 9..., MULTI‚Ä¶\n\n\n\ncantones &lt;- cantones |&gt; \n  select(\n    provincia, canton\n  )\n\nglimpse(cantones)\n\nRows: 84\nColumns: 3\n$ provincia &lt;chr&gt; \"San Jos√©\", \"San Jos√©\", \"San Jos√©\", \"San Jos√©\", \"San Jos√©\", ‚Ä¶\n$ canton    &lt;chr&gt; \"San Jos√©\", \"Escaz√∫\", \"Desamparados\", \"Puriscal\", \"Tarraz√∫\",‚Ä¶\n$ geometry  &lt;MULTIPOLYGON [¬∞]&gt; MULTIPOLYGON (((-84.15569 9..., MULTIPOLYGON ((‚Ä¶\n\n\nAhora vamos a leer los datos de los resultados electorales, enfoc√°ndonos en seleccionar solamente el nombre del cant√≥n y el partido ganador en ese cant√≥n. Afortunadamente, en Costa Rica los nombres de provincias y cantones son √∫nicos y pueden servir como identificadores, una ventaja que no se extiende a los distritos.\n\nresultados_tse &lt;- read_csv(\n  file = \"elecciones_municipales_2024.csv\",\n  show_col_types = FALSE\n  ) |&gt; \n  clean_names() |&gt; \n  select(canton, ganador)\nglimpse(resultados_tse)\n\nRows: 84\nColumns: 2\n$ canton  &lt;chr&gt; \"San Jos√©\", \"Escaz√∫\", \"Desamparados\", \"Puriscal\", \"Tarraz√∫\", \"‚Ä¶\n$ ganador &lt;chr&gt; \"Juntos San Jos√©\", \"PNG\", \"PLN\", \"PLN\", \"PUSC\", \"PLN\", \"PLP\", ‚Ä¶\n\n\nRealizamos la uni√≥n de ambas tablas usando el nombre del cant√≥n como clave y presentamos los resultados con ggplot2.\n\nmapa &lt;- left_join(\n  x = cantones,\n  y = resultados_tse,\n  by = join_by(canton == canton)\n)\n\nglimpse(mapa)\n\nRows: 84\nColumns: 4\n$ provincia &lt;chr&gt; \"San Jos√©\", \"San Jos√©\", \"San Jos√©\", \"San Jos√©\", \"San Jos√©\", ‚Ä¶\n$ canton    &lt;chr&gt; \"San Jos√©\", \"Escaz√∫\", \"Desamparados\", \"Puriscal\", \"Tarraz√∫\",‚Ä¶\n$ ganador   &lt;chr&gt; \"Juntos San Jos√©\", \"PNG\", \"PLN\", \"PLN\", \"PUSC\", \"PLN\", \"PLP\"‚Ä¶\n$ geometry  &lt;MULTIPOLYGON [¬∞]&gt; MULTIPOLYGON (((-84.15569 9..., MULTIPOLYGON ((‚Ä¶\n\n\n\nggplot(\n  data = mapa,\n  mapping = aes(\n    fill = ganador\n  )\n) +\n  geom_sf(color = \"white\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\nBuen intento, pero vemos un par de problemas: demasiadas etiquetas, colores muy similares y ese NA, ¬øde d√≥nde sali√≥? Comencemos por ese NA; hagamos un filtro para ver cu√°l de los cantones tiene como ganador NA.\n\nmapa |&gt; \n  filter(is.na(ganador))\n\nSimple feature collection with 1 feature and 3 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -84.15433 ymin: 9.636876 xmax: -83.97105 ymax: 9.75103\nGeodetic CRS:  WGS 84\n  provincia             canton ganador                       geometry\n1  San Jos√© Le√≥n Cort√©s Castro    &lt;NA&gt; MULTIPOLYGON (((-83.98673 9...\n\n\nVemos que es el cant√≥n Le√≥n Cort√©s Castro; en la gran mayor√≠a de las ocasiones, esto se produce por dos razones: no hay datos para el cant√≥n o en ambas tablas se usan nombres diferentes para el mismo cant√≥n. Ya que estas son elecciones nacionales y participan todos los cantones, descartamos la primera opci√≥n, as√≠ que vamos a ver c√≥mo aparece el nombre de Le√≥n Cort√©s Castro en la tabla de resultados.\n\nresultados_tse |&gt; \n  filter(str_detect(canton, \"Le√≥n\"))\n\n# A tibble: 1 √ó 2\n  canton      ganador      \n  &lt;chr&gt;       &lt;chr&gt;        \n1 Le√≥n Cort√©s Frente Amplio\n\n\nVemos que en la tabla de resultados se utiliza la forma ‚ÄúLe√≥n Cort√©s‚Äù, una forma muy com√∫n de referirse al lugar pero no su nombre oficial. En este caso, modificaremos el nombre del cant√≥n.\n\nresultados_tse &lt;- resultados_tse |&gt; \n  mutate(\n    canton = if_else(\n      canton == \"Le√≥n Cort√©s\",\n      \"Le√≥n Cort√©s Castro\",\n      canton\n    )\n  )\n\n\nmapa &lt;- left_join(\n  x = cantones,\n  y = resultados_tse,\n  by = join_by(canton == canton)\n)\n\nAhora repetimos el gr√°fico y vemos que ya no tenemos valores ausentes.\n\nggplot(\n  data = mapa,\n  mapping = aes(\n    fill = ganador\n  )\n) +\n  geom_sf(color = \"white\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\nPara t√©rminos del ejemplo, vamos a simplificar la cantidad de partidos pol√≠ticos agrupando como ‚ÄúOtros‚Äù aquellos que no tengan como m√≠nimo 5 alcald√≠as a nivel nacional.\n\nmapa &lt;- mapa |&gt;\n  mutate(\n    ganador = fct_lump_min(ganador, min = 5,\n                           other_level = \"Otros\")\n  )\n\n\nlibrary(ggokabeito)\n\nggplot(\n  data = mapa,\n  mapping = aes(\n    fill = ganador\n  )\n) +\n  geom_sf(color = \"white\", linewidth = 0.5) +\n  scale_fill_okabe_ito() +\n  theme_minimal() +\n  theme(\n    legend.position = \"bottom\"\n  )\n\n\n\n\n\n\n\n\nListo, fueron muchos m√°s pasos de los que cre√≠ inicialmente, pero espero que este ejemplo te pueda servir como referencia para mantener tus mapas actualizados. Resumen r√°pido:\n\nSe crean nuevos cantones.\nLos cantones cambian de nombre.\nEs preferible usar fuentes oficiales del estado y no de sitios web de terceros.\nSe debe tener cuidado con las faltas de ortograf√≠a o cambios de nombres al unir las tablas."
  },
  {
    "objectID": "posts/001_mapa_cantones_cr.html#obeservaciones-finales",
    "href": "posts/001_mapa_cantones_cr.html#obeservaciones-finales",
    "title": "Actualizando el mapa de cantones de Costa Rica con R",
    "section": "Obeservaciones finales",
    "text": "Obeservaciones finales\nYa terminado este post, me puse a pensar que realmente no tengo ning√∫n criterio formado sobre el tema de los nuevos cantones. ¬øEs bueno para la administraci√≥n del pa√≠s? Pues no tengo idea. Me dej√© a m√≠ mismo de tarea leer m√°s sobre el tema y creo que todos los residentes del pa√≠s deber√≠amos tomar un par de minutos para pensarlo.\nLaura Fern√°ndez Delgado, ministra de planificaci√≥n nacional y pol√≠tica econ√≥mica, en un oficio a los diputados 20 de febrero de 2024, dice:\n\nLas decisiones que tome la Asamblea Legislativa de creaci√≥n de cantonatos pueden derivar en problemas de coordinaci√≥n, de articulaci√≥n y fragmentaci√≥n del territorio; y adicionalmente, en ausencia de estudios t√©cnicos y econ√≥micos pueden repercutir en una afectaci√≥n a los ciudadanos habitantes de esos territorios derivada de la incapacidad para la prestaci√≥n de los servicios p√∫blicos municipales por ausencia de sostenibilidad financiera, entre otros de estos nuevos cantones. 7\n\nJusto el d√≠a anterior 19 de febrero del 2024, en primer debate se aprob√≥ el expediente 22643 para la creaci√≥n del cant√≥n Colorado8 en Guanacaste y existen 6 proyectos de ley vigentes para crear nuevos cantones.\n\nExpediente 24.062: Creaci√≥n del Cant√≥n de Cervantes, Cant√≥n IX de la Provincia de Cartago.\nExpediente 23.406: Creaci√≥n del Cant√≥n XVII de la Provincia de Alajuela, Pe√±as Blancas.\nExpediente 23.403: Creaci√≥n del Cant√≥n Jicaral, Cant√≥n XIV de la Provincia de Puntarenas.\nExpediente 23.109: Creaci√≥n del Cant√≥n C√≥bano.\nExpediente 23.055: Creaci√≥n del Cant√≥n de Paquera, Cant√≥n XIV de la Provincia de Puntarenas.\nExpediente 22.874: Creaci√≥n del Cant√≥n Ojo de Agua, Cant√≥n XVII de la Provincia de Alajuela.\n\nAs√≠ que menos mal que ya sabemos c√≥mo tener el mapa actualizado, porque si por la fecha se saca el d√≠a, lo vamos a tener que hacer con frecuencia en los pr√≥ximos a√±os.\n\n\n\n\n\n\nEste blog libera su contenido bajo la Licencia Creative Commons CC0, permitiendo a los usuarios copiar, modificar, distribuir y utilizar todo el trabajo, ya sea para prop√≥sitos comerciales o no, sin necesidad de pedir permiso o proporcionar atribuci√≥n al autor."
  },
  {
    "objectID": "posts/001_mapa_cantones_cr.html#footnotes",
    "href": "posts/001_mapa_cantones_cr.html#footnotes",
    "title": "Actualizando el mapa de cantones de Costa Rica con R",
    "section": "Notas",
    "text": "Notas\n\n\nDelfino.cr. (26 de abril de 2018). Expediente 20787: Reforma y Adiciones a la Ley N¬∞ 9440, Creaci√≥n del Cant√≥n XVI R√≠o Cuarto de la Provincia de Alajuela, de 20 de Mayo de 2017. Delfino.cr. Leer m√°s‚Ü©Ô∏é\nDelfino.cr. (25 de septiembre de 2019). Expediente 21618: Creaci√≥n del Cant√≥n de Monteverde, Cant√≥n XII de la Provincia de Puntarenas. Delfino.cr. Leer m√°s‚Ü©Ô∏é\nDelfino.cr. (21 de octubre de 2021). Expediente 22749: Creaci√≥n del Cant√≥n de Puerto Jim√©nez, Cant√≥n XIII de la Provincia de Puntarenas. Delfino.cr. Leer m√°s‚Ü©Ô∏é\nRep√∫blica de Costa Rica. (16 de junio de 2010). Ley N¬∞ 8808: Declara oficial para efectos administrativos, la aprobaci√≥n de la Divisi√≥n Territorial Administrativa de la Rep√∫blica N¬∞ 41548-MGP [Cambio de nombre del cant√≥n de Alfaro Ruiz a Zarcero]. La Gaceta, N¬∞ 116. Leer m√°s‚Ü©Ô∏é\nDelfino.cr. (11 de febrero de 2015). Expediente 19469: Cambio de Denominaci√≥n del Cant√≥n XII, Valverde Vega, de la Provincia de Alajuela, para que en Adelante se Denomine Sarch√≠. Delfino.cr. Leer m√°s‚Ü©Ô∏é\nPresidencia de la Rep√∫blica de Costa Rica. (11 de febrero de 2015). Cambio de nombre del Cant√≥n VI de la provincia de Puntarenas para que en adelante se denomine Quepos. Recuperado de Leer m√°s‚Ü©Ô∏é\nSan Jos√©, 20 de febrero del 2024 MIDEPLAN-DM-OF-0277-2024 A: Directorio Legislativo, Jefaturas de Fracci√≥n, Asamblea Legislativa de Costa Rica Asunto: Opini√≥n de MIDEPLAN sobre el Primer Debate del Proyecto de Ley N¬∞22.643, ‚ÄúCreaci√≥n del Cant√≥n Colorado, Cant√≥n Duod√©cimo de la Provincia de Guanacaste‚Äù. Disponible en: enlace‚Ü©Ô∏é\nDelfino.cr. (19 de febrero de 2024). Expediente 22643: Creaci√≥n del Cant√≥n Colorado, Cant√≥n Duod√©cimo de la Provincia de Guanacaste. Delfino.cr. Leer m√°s‚Ü©Ô∏é"
  },
  {
    "objectID": "posts.html",
    "href": "posts.html",
    "title": "Aprende Tidyverse",
    "section": "",
    "text": "La comunidad de usuarios de R me ha permitido conectar con personas interesantes de todo el mundo, algo que valoro enormemente. Si tienes una idea de proyecto, especialmente si est√° relacionado con datos de Costa Rica, me encantar√≠a ayudarte en lo que sea posible.\nPara charlar o preguntar, escr√≠beme a carlos.aguero@aprendetidyverse.com. Tambi√©n puedes encontrarme en LinkedIn o en Twitter (s√≠, s√© que ahora se llama X, pero me resisto a cambiarle el nombre; simplemente no me gusta). ¬°Espero tu mensaje!"
  },
  {
    "objectID": "posts.html#ponte-en-contacto",
    "href": "posts.html#ponte-en-contacto",
    "title": "Aprende Tidyverse",
    "section": "",
    "text": "La comunidad de usuarios de R me ha permitido conectar con personas interesantes de todo el mundo, algo que valoro enormemente. Si tienes una idea de proyecto, especialmente si est√° relacionado con datos de Costa Rica, me encantar√≠a ayudarte en lo que sea posible.\nPara charlar o preguntar, escr√≠beme a carlos.aguero@aprendetidyverse.com. Tambi√©n puedes encontrarme en LinkedIn o en Twitter (s√≠, s√© que ahora se llama X, pero me resisto a cambiarle el nombre; simplemente no me gusta). ¬°Espero tu mensaje!"
  },
  {
    "objectID": "posts.html#post-recientes",
    "href": "posts.html#post-recientes",
    "title": "Aprende Tidyverse",
    "section": "Post Recientes",
    "text": "Post Recientes"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Aprende Tidyverse",
    "section": "",
    "text": "Aprende Tidyverse es una iniciativa que busca contribuir a la comunidad hispanohablante de usuarios de R, ofreciendo de forma gratuita cursos, tutoriales, gu√≠as paso a paso y todo lo que se nos ocurra por el camino. ¬øLo mejor? Aprendemos juntos y, ¬øpor qu√© no?, nos divertimos en el proceso."
  },
  {
    "objectID": "index.html#curso-r-para-ciencia-de-datos",
    "href": "index.html#curso-r-para-ciencia-de-datos",
    "title": "Aprende Tidyverse",
    "section": "Curso R para ciencia de datos",
    "text": "Curso R para ciencia de datos\nPuedes inscribirte por un precio desde los $0 USD hasta los $120 USD. Nuestro instructor y asistentes est√°n listos para guiarte en tu proceso de aprendizaje. Simplemente completa el formulario de inscripci√≥n y recibir√°s en tu correo electr√≥nico toda la informaci√≥n necesaria para comenzar la sesi√≥n.\n\nPr√≥xima apertura: jueves 25 de abril del 2024\n\nLecciones: jueves y s√°bados\nCosta Rica/M√©xico: 6:00 p.m.\nColombia: 7:00 p.m.\nArgentina: 9:00 p.m.\n\n\nDescuentos de hasta el 75% para estudiantes y acad√©micos. Si tu situaci√≥n econ√≥mica o restricciones de tu pa√≠s no te permiten hacer un pago en l√≠nea por el curso, si√©ntete en total libertad de llevarlo totalmente gratis.\nVer los detalles del curso"
  },
  {
    "objectID": "index.html#ponte-en-contacto",
    "href": "index.html#ponte-en-contacto",
    "title": "Aprende Tidyverse",
    "section": "Ponte en contacto",
    "text": "Ponte en contacto\nLa comunidad de usuarios de R me ha permitido conectar con personas interesantes de todo el mundo, algo que valoro enormemente. Si tienes una idea de proyecto, especialmente si est√° relacionado con datos de Costa Rica, me encantar√≠a ayudarte en lo que sea posible.\nPara charlar o preguntar, escr√≠beme a carlos.aguero@aprendetidyverse.com. Tambi√©n puedes encontrarme en LinkedIn o en Twitter (s√≠, s√© que ahora se llama X, pero me resisto a cambiarle el nombre; simplemente no me gusta). ¬°Espero tu mensaje!"
  },
  {
    "objectID": "index.html#post-recientes",
    "href": "index.html#post-recientes",
    "title": "Aprende Tidyverse",
    "section": "Post Recientes",
    "text": "Post Recientes"
  },
  {
    "objectID": "courses/index.html",
    "href": "courses/index.html",
    "title": "Curso: R para ciencia de datos",
    "section": "",
    "text": "Queremos iniciar con una premisa fundamental: cualquiera que te prometa convertirte en un experto en R o en cualquier lenguaje de programaci√≥n en tan solo unos meses o semanas, simplemente no est√° siendo sincero. Dominar una herramienta tan poderosa como R no es una tarea que se pueda tomar a la ligera; no hay atajos, solamente pr√°ctica, pr√°ctica y m√°s pr√°ctica.\nNuestro objetivo es claro: transformarte de un principiante absoluto en un practicante competente que comprenda los principios b√°sicos del lenguaje R y pueda aplicar estos conocimientos a problemas del mundo real. M√°s que memorizar comandos o seguir tutoriales de manera mec√°nica, te ense√±aremos a pensar como un programador, a enfrentarte a los desaf√≠os de manera anal√≠tica y a desarrollar soluciones efectivas.\nEl curso tiene una duraci√≥n de 6 semanas cada semana ofrecemos dos clase en vivo con una duraci√≥n de aproximadamente 2 horas (quedar√° grabada por si no puedes asistir a la lecci√≥n). Despu√©s de cada clase, los estudiantes se autoeval√∫an resolviendo una serie de ejercicios interactivos cortos, y en caso de tener dudas, pueden asistir a sesi√≥n de pr√°ctica grupales en donde junto con el instructor se resuelven dudas y ejercicios para verificar que est√°n comprendiendo el material y aclarar dudas. El curso es 100% online y puedes verlo en vivo o en diferido."
  },
  {
    "objectID": "courses/index.html#c√≥mo-inscribirme",
    "href": "courses/index.html#c√≥mo-inscribirme",
    "title": "Curso: R para ciencia de datos",
    "section": "¬øC√≥mo inscribirme?",
    "text": "¬øC√≥mo inscribirme?\nPuedes inscribirte por un precio desde los $0 USD hasta los $120 USD. Nuestro instructor y asistentes est√°n listos para guiarte en tu proceso de aprendizaje. Simplemente completa el formulario de inscripci√≥n y recibir√°s en tu correo electr√≥nico toda la informaci√≥n necesaria para comenzar la sesi√≥n.\n\nPr√≥xima apertura: jueves 25 de abril del 2024\n\nLecciones: jueves y s√°bados\nCosta Rica/M√©xico: 6:00 p.m.\nColombia: 7:00 p.m.\nArgentina: 9:00 p.m.\n\n\nDescuentos de hasta el 75% para estudiantes y acad√©micos. Si tu situaci√≥n econ√≥mica o restricciones de tu pa√≠s no te permiten hacer un pago en l√≠nea por el curso, si√©ntete en total libertad de llevarlo totalmente gratis.\nInscribirte ahora"
  },
  {
    "objectID": "courses/index.html#conoce-al-instructor",
    "href": "courses/index.html#conoce-al-instructor",
    "title": "Curso: R para ciencia de datos",
    "section": "Conoce al instructor",
    "text": "Conoce al instructor\nMi nombre es Carlos Ag√ºero B, desde el 2016, me dedico a ense√±ar a profesionales, en su mayor√≠a no programadores, c√≥mo analizar datos utilizando el lenguaje R.\nHe tenido la incre√≠ble oportunidad de formarme como instructor certificado por RStudio para la ense√±anza de Tidyverse y Shiny y, recientemente, unirme la comunidad de instructores de The Carpentries. En estos 8 a√±os de experiencia, he impartido m√°s de 70 cursos relacionados con el lenguaje R a m√°s de 600 estudiantes a lo largo de toda Am√©rica Latina."
  },
  {
    "objectID": "courses/index.html#comentarios-de-otros-estudintes",
    "href": "courses/index.html#comentarios-de-otros-estudintes",
    "title": "Curso: R para ciencia de datos",
    "section": "Comentarios de otros estudintes",
    "text": "Comentarios de otros estudintes\n\n\n\n\nPuedes leer los comentarios originales y otros m√°s en mi perfil de linkedin"
  },
  {
    "objectID": "courses/index.html#preguntas-frecuentes-faq",
    "href": "courses/index.html#preguntas-frecuentes-faq",
    "title": "Curso: R para ciencia de datos",
    "section": "Preguntas Frecuentes (FAQ)",
    "text": "Preguntas Frecuentes (FAQ)\nSi tienes dudas puedes escribir a carlos.aguero@aprendetidyverse.com o programar una üé• Reuni√≥n en Zoom de 15 minutos para resolver dudas y revisar temas de inter√©s. ¬°Asegura que el curso cumpla con tus expectativas!\n\n\n¬øDebo tener conocimientos de R para llevar el curso?\n\nEs recomendable tener una m√≠nima experiencia en el lenguaje. Si no la tienes, no te preocupes, puedes empezar aqu√≠ y tanto el instructor como los asistentes har√°n lo posible por ayudarte a ponerte al d√≠a. No ser√° f√°cil, pero nos comprometemos a estar disponibles para apoyarte en este proceso.\n\n\n\n¬øQu√© pasa si debo abandonar el curso?\n\nEntendemos que pueden surgir imprevistos. No te preocupes, puedes dejar el curso en cualquier momento y retomarlo en la siguiente apertura.\n\n\n\n¬øQu√© temas puedo preguntar en las sesiones con el instructor?\n\nLos temas en las sesiones de seguimiento deben estar relacionados estrictamente con el contenido del curso. Si deseas revisar temas de tu trabajo o alg√∫n proyecto universitario, este no ser√≠a el espacio adecuado. Sin embargo, puedes escribir a carlos.aguero@aprendetidyverse.com y con gusto veremos c√≥mo podemos ayudarte."
  },
  {
    "objectID": "courses/index.html#contenido-del-curso",
    "href": "courses/index.html#contenido-del-curso",
    "title": "Curso: R para ciencia de datos",
    "section": "Contenido del curso",
    "text": "Contenido del curso\n\n\nClase 1: Descubriendo R y el Tidyverse\n\nEsta clase te introduce a R y el conjunto de herramientas del Tidyverse. Aqu√≠ aprender√°s a configurar tu espacio de trabajo en RStudio, c√≥mo leer archivos .csv y empezar√°s a jugar con tus datos, d√°ndoles un primer vistazo y creando visualizaciones sencillas.\n\n\n\nClase 2: Comenzamos a explorar los datos\n\nEn esta clase, te adentrar√°s en el coraz√≥n de dplyr y tidyr, donde la magia de la manipulaci√≥n de datos realmente sucede. Aprender√°s a filtrar, seleccionar, y transformar tus datos para revelar las historias ocultas que tienen para contar.\n\n\n\nClase 3: Inicia en la visualizaci√≥n de Datos\n\nAqu√≠, vas a llevar tus habilidades de visualizaci√≥n al siguiente nivel, usando ggplot2 para crear tus primeros gr√°fico. Aprender√°s sobre escalas, facetas, y c√≥mo personalizar tus gr√°ficos para que destaquen y se adapte a tus necesidades.\n\n\n\nClase 4: Lectura y limpieza de datos\n\nEsta clase te ense√±ar√° a ser capaz de leer datos almacenados en CSV, Excel, SPSS, entre otros. Ya sea que est√©s trabajando con texto, n√∫meros, fechas, o cualquier otro tipo, aprender√°s las habilidades para manejarlos todos con eficiencia.\n\n\n\nClase 5: El arte de trabajar con textos y fechas\n\nLas expresiones regulares y el manejo de fechas pueden parecer hechizos complicados, pero despu√©s de esta clase, ser√°n herramientas poderosas en tu arsenal. Aprender√°s a limpiar y filtrar tus datos de manera eficiente con los paquetes stringr y lubridate convirtiendo el caos en orden con solo unas pocas l√≠neas de c√≥digo.\n\n\n\nClase 6: Entendiendo los datos relacionales\n\nEn esta clase te ense√±a a unir diferentes conjuntos de datos para descubrir conexiones ocultas. Dominar√°s los joins y aprender√°s sobre las llaves y las relaciones, lo que te permitir√° combinar datos de fuentes diversas para obtener insights m√°s profundos.\n\n\n\nClase 7: Explorando con gr√°ficos avanzados\n\nCon ggplot2 y plotly, esta clase aprender√°s a crear gr√°ficos interactivos y explorar datos geoespaciales, llevando tus habilidades narrativas a nuevas dimensiones.\n\n\n\nClase 8: Conecta R con el mundo las bases de datos SQL\n\nAqu√≠, R se encuentra con el poder de las bases de datos SQL. Aprender√°s a realizar consultas SQL directamente desde R, lo que te permite acceder a y manipular grandes conjuntos de datos almacenados en bases de datos de manera eficiente.\n\n\n\nClase 9: La Elegancia de la programaci√≥n funcional\n\nCon purrr, transformar√°s tu enfoque de manejar datos. Aprender√°s a escribir funciones personalizadas y a iterar sobre tus datos de formas que hacen que el c√≥digo no solo sea m√°s limpio, sino tambi√©n m√°s expresivo.\n\n\n\nClase 10: Extrayendo datos de la web\n\nEl web scraping y las APIs abren un universo de datos disponibles en internet. Esta clase te equipar√° con las herramientas para recoger estos datos como rvest y httr2, permiti√©ndote responder preguntas que antes parec√≠an inalcanzables.\n\n\n\nClase 11: Creando documento con quarto\n\nCon Quarto, aprender√°s a combinar tu an√°lisis con narrativas en reportes din√°micos, haciendo que tus hallazgos no solo sean comprensibles, sino tambi√©n atractivos para tu audiencia. Es la habilidad de contar una historia cautivadora, donde los datos son los personajes principales.\n\n\n\nClase 12: Administrando tus proyectos en RStudio\n\nFinalmente, dominar√°s el arte de gestionar proyectos de datos con Git, GitHub, y entornos virtuales renv. Esto te asegura que tus proyectos sean reproducibles, colaborativos, y organizados.\n\nAprovecha esta oportunidad √∫nica para sumergirte en el mundo de la ciencia de datos con R. Inscr√≠bete ahora y paga un precio justo, acorde a tus posibilidades, desde $120 USD hasta $0.\nInscribirte ahora"
  },
  {
    "objectID": "courses/index.html#ponte-en-contacto",
    "href": "courses/index.html#ponte-en-contacto",
    "title": "Curso: R para ciencia de datos",
    "section": "Ponte en contacto",
    "text": "Ponte en contacto\nLa comunidad de usuarios de R me ha permitido conectar con personas interesantes de todo el mundo, algo que valoro enormemente. Si tienes una idea de proyecto, especialmente si est√° relacionado con datos de Costa Rica, me encantar√≠a ayudarte en lo que sea posible.\nPara charlar o preguntar, escr√≠beme a carlos.aguero@aprendetidyverse.com. Tambi√©n puedes encontrarme en LinkedIn o en Twitter (s√≠, s√© que ahora se llama X, pero me resisto a cambiarle el nombre; simplemente no me gusta). ¬°Espero tu mensaje!"
  },
  {
    "objectID": "lunes_pr.html",
    "href": "lunes_pr.html",
    "title": "¬øEst√°s lidiando con problemas en R?",
    "section": "",
    "text": "‚ÄúLos Forjadores‚Äù de Gustave Courbet, 1853.\n¬øEst√°s lidiando con problemas en R o simplemente tienes dudas que no puedes resolver? ¬°Estoy aqu√≠ para ayudarte! Todos los lunes a las 7:00 p.m., dedicar√© una hora completa para contestar preguntas y brindar asistencia con cualquier desaf√≠o que est√©s enfrentando en R. Esta es tu oportunidad de obtener ayuda personalizada y consejos pr√°cticos para superar esos obst√°culos que te impiden avanzar."
  },
  {
    "objectID": "lunes_pr.html#detalles-del-evento",
    "href": "lunes_pr.html#detalles-del-evento",
    "title": "¬øEst√°s lidiando con problemas en R?",
    "section": "Detalles del Evento:",
    "text": "Detalles del Evento:\n\n¬øCu√°ndo? Todos los lunes, de 7:00 p.m. a 8:00 p.m. hora de Costa Rica (UTC-6)\n¬øD√≥nde? Las sesiones se realizan en la plataforma Zoom.\n\nReg√≠strate gratis"
  },
  {
    "objectID": "posts/003_30_days_chart_challenge_d1.html",
    "href": "posts/003_30_days_chart_challenge_d1.html",
    "title": "30 days chart challenge 1/30",
    "section": "",
    "text": "Hola a todos!! una peque√±a advertencia: este documento a√∫n est√° en construcci√≥n. Puedes intentar utilizarlo, pero ten en cuenta que algunas cosas a√∫n podr√≠an no funcionar bien. Recomiendo esperar a la versi√≥n final.\n\n\n\n\nlibrary(tidyverse)\n\n‚îÄ‚îÄ Attaching core tidyverse packages ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ tidyverse 2.0.0 ‚îÄ‚îÄ\n‚úî dplyr     1.1.4     ‚úî readr     2.1.5\n‚úî forcats   1.0.0     ‚úî stringr   1.5.1\n‚úî ggplot2   3.5.0     ‚úî tibble    3.2.1\n‚úî lubridate 1.9.3     ‚úî tidyr     1.3.1\n‚úî purrr     1.0.2     \n‚îÄ‚îÄ Conflicts ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ tidyverse_conflicts() ‚îÄ‚îÄ\n‚úñ dplyr::filter() masks stats::filter()\n‚úñ dplyr::lag()    masks stats::lag()\n‚Ñπ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(rvest)\n\n\nAttaching package: 'rvest'\n\nThe following object is masked from 'package:readr':\n\n    guess_encoding\n\nlibrary(janitor)\n\n\nAttaching package: 'janitor'\n\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n\nlibrary(waffle)\nlibrary(glue)\nlibrary(ggtext)\n\n\ndf &lt;- tibble::tribble(\n  ~\"provincia\", ~\"url\",\n  \"San Jos√©\", \"https://www.tse.go.cr/juris/relevantes/1658-E11-2024.html\",\n  \"Alajuela\", \"https://www.tse.go.cr/juris/relevantes/2156-E11-2024.html\",\n  \"Cartago\", \"https://www.tse.go.cr/juris/relevantes/2157-E11-2024.html\",\n  \"Heredia\", \"https://www.tse.go.cr/juris/relevantes/2158-E11-2024.html\",\n  \"Guanacaste\", \"https://www.tse.go.cr/juris/relevantes/2159-E11-2024.html\",\n  \"Puntarenas\", \"https://www.tse.go.cr/juris/relevantes/2160-E11-2024.html\",\n  \"Lim√≥n\", \"https://www.tse.go.cr/juris/relevantes/2161-E11-2024.html\"\n  )\n\n\nresultados &lt;- map(transpose(df), \\(x){\n  read_html(x$url) |&gt; \n  html_table(na.strings = \"-\", trim = TRUE, header = TRUE) |&gt; \n  map(\\(x){\n    x |&gt; \n      pivot_longer(\n        cols = -`PARTIDO POL√çTICO`,\n        names_to = \"canton\",\n        values_to = \"votos\",\n        ) |&gt; \n      clean_names() |&gt; \n      mutate(\n        votos = parse_number(votos, locale = locale(grouping_mark = \" \")),\n        canton = str_to_title(canton),\n        partido_politico = str_squish(partido_politico),\n        partido_politico = str_to_title(partido_politico)\n      ) |&gt; \n      filter(\n        partido_politico != \"Total Votos V√°lidos\"\n      ) |&gt; \n      drop_na() |&gt; \n      select(canton, partido_politico, votos)\n  }) |&gt; \n    list_rbind() |&gt; \n    add_column(\n      provincia = x$provincia,\n      .before = 1\n    )\n}) |&gt; \n  list_rbind()\n\n\ndf_plot &lt;- resultados |&gt; \n  mutate(\n    p = votos/sum(votos),\n    .by = c(canton)\n  ) |&gt; \n  filter(\n    canton == \"San Jos√©\"\n  ) |&gt; \n  mutate(\n    n = round(p*100),\n    color = \"partido\",\n    partido_politico = str_wrap(partido_politico, 15),\n    partido_politico = str_replace(partido_politico, \"\\\\n\",\"&lt;br&gt;\"),\n    partido_politico = fct_lump_lowfreq(\n      partido_politico,\n      w = votos,\n      other_level = \"Otros\"\n    ),\n    partido_politico = glue(\"&lt;b&gt;{partido_politico}&lt;/b&gt; ({n}%)\"),\n    partido_politico = fct_reorder(partido_politico, votos, .desc = TRUE)\n  )|&gt; \n  group_by(canton, partido_politico) |&gt; \n  group_modify(~ add_row(.x, n = 100-.x$n, color = \"todos\"))\n\n\nggplot(\n  data = df_plot, \n  aes(fill = color, values = n)\n) +\n  geom_waffle(\n    color = \"white\", \n    size = .8, \n    n_rows = 10,\n    flip = TRUE\n  ) +\n  facet_wrap(~partido_politico) +\n  scale_fill_manual(\n    values = c(\n      \"partido\" = \"#FFCC70\",\n      \"todos\" = \"#E3E1D9\"\n    ),\n    labels = c(\"Votos del partido\",\"Total de votos\")\n  ) +\n  labs(\n    title = \"Resultados electorales municipales\",\n    subtitle = \"Porcentaje de votos por partido pol√≠tico para el cant√≥n\\nde San Jos√©, Costa Rica, 2024.\",\n    fill = \"\",\n    caption = \"Fuente: Tribunal Supremo de Elecciones\") +\n  coord_equal() +\n  theme_void() +\n  theme(\n    plot.title = element_text(\n      size = 18,\n      face = \"bold\",\n      family = \"Roboto\"\n    ), \n    legend.text = element_text(size = 16),\n    legend.box.margin = margin(b = 10),\n    plot.subtitle = element_text(\n      size = 16\n    ),\n    strip.text = element_markdown(\n      hjust = 0,\n      margin = margin(l = 5),\n      size = 12,\n      vjust = 0\n    ),\n    legend.position = \"top\",\n    legend.justification = \"left\",\n    legend.margin = margin(t = 20),\n    plot.margin = margin(5,b = 10,5,5)\n  )\n\n\n\n\n\n\n\n\n\nggsave(\"plot_elecciones_d1.jpg\", dpi = 400, width = 8.51, height = 11.3)\n\n\n\n\n\n\n\nVisualizaci√≥n Avanzada con ggplot2: Creando Gr√°ficos Impresionantes\nSi ya tienes experiencia creando gr√°ficos con ggplot2 y buscas llevar tus habilidades al siguiente nivel, este es el curso que estabas buscando:\n\nFecha de inicio: lunes 6 de mayo de 2024.\nPrecio: $99 USD.\nModalidad: 100% online via Zoom.\nDuraci√≥n: 6 semanas, clase todos los lunes 6:00 p.m hora de Costa Rica (UTC-6).\n\nLeer m√°s sobre el curso\n\n\n\n\n\n\n\n\n\n\nEste blog libera su contenido bajo la Licencia Creative Commons CC0, permitiendo a los usuarios copiar, modificar, distribuir y utilizar todo el trabajo, ya sea para prop√≥sitos comerciales o no, sin necesidad de pedir permiso o proporcionar atribuci√≥n al autor."
  },
  {
    "objectID": "posts/002_custom_legend_ggplot2.html",
    "href": "posts/002_custom_legend_ggplot2.html",
    "title": "Creando leyendas personalizadas en ggplot2",
    "section": "",
    "text": "Hola a todos!! una peque√±a advertencia: este documento a√∫n est√° en construcci√≥n. Puedes intentar utilizarlo, pero ten en cuenta que algunas cosas a√∫n podr√≠an no funcionar bien. Recomiendo esperar a la versi√≥n final.\n\n\n\n\nlibrary(ggplot2)\nlibrary(grid)\n\n\ncirculos &lt;- circleGrob(\n  r = 0.07,\n  x = c(0.5, 0.35),\n  y = c(0.5,0.5),\n  gp = gpar(lwd = 1)\n)\n\nlineas &lt;- segmentsGrob(\n  x0 = c(0.5,0.35),\n  x1 = c(0.5,0.35),\n  y0 = c(0.35,0.65),\n  y1 = c(0.42,0.58),\n  gp =  gpar(lwd = 1)\n)\n\ntexto &lt;- textGrob(\n  label = c(\"Lower than start\",\"Higher than start\"),\n  x = c(0.5,0.35),\n  y = c(0.3, 0.75),\n  gp = gpar(lwd = 2, fontsize = 12),\n  )\n\nlegend1 &lt;- gTree(children = gList(circulos, lineas,texto))\ngrid.draw(legend1)\n\n\n\n\n\n\n\n\n\nggplot() +\n  guides(\n    custom = guide_custom(\n    width = unit(5,\"cm\"),\n    height = unit(3,\"cm\"),\n    grob = legend1,\n    order = 1\n  )) + theme(\n    legend.position = \"top\",\n    legend.justification = \"center\",\n    legend.margin = margin(t = -10,b = -20,0,0),\n    plot.margin = margin(t = 10,10,10,10)\n  )\n\n\n\n\n\n\n\n\n\nrect1 &lt;- roundrectGrob(\n  r= unit(0.5, \"snpc\"),\n  x = 0.10,\n  y = 0.5,\n  width = 0.2,\n  height = 0.1,\n  gp = gpar(lty = 0, fill = \"#b4d6f0\")\n)\n\nrect2 &lt;- roundrectGrob(\n  r = unit(0.5, \"snpc\"),\n  x = 0.325,\n  y = 0.5,\n  width = 0.25,\n  height = 0.1,\n  gp = gpar(lty = 0, fill = \"#76bbe8\")\n)\n\nrect3 &lt;- roundrectGrob(\n  r = unit(0.5, \"snpc\"),\n  x = 0.575,\n  y = 0.5,\n  width = 0.25,\n  height = 0.1,\n  gp = gpar(lty = 0, fill = \"#2598dd\")\n)\n\nrect4 &lt;- roundrectGrob(\n  r = unit(0.5, \"snpc\"),\n  x = 0.825,\n  y = 0.5,\n  width = 0.25,\n  height = 0.1,\n  gp = gpar(lty = 0, fill = \"#673c8e\")\n)\n\npoint1 &lt;- circleGrob(\n  r = 0.06,\n  x = c(0.02,0.2,0.45,0.70),\n  y = c(0.5,0.5,0.5,0.5,0.5),\n  gp = gpar(lty = 0, fill = c(\"#b2d9f9\",\"#559dd7\",\"#1d70c9\",\"#09217a\"))\n)\n\nstick1 &lt;- segmentsGrob(\n  x0 =c(0.02,0.2,0.45,0.70),\n  x1 = c(0.02,0.2,0.45,0.70),\n  y0 = c(0.65,0.42,0.65,0.42),\n  y1 = c(0.58,0.35,0.58,0.35),\n  gp =  gpar(lwd = 2)\n)\n\nlabel1 &lt;- textGrob(\n  label = c(\"Baby\\nBoomers\",\"Gen X\", \"Milenials\", \"Gen Z\"),\n  x = c(0.02,0.2,0.45,0.70),\n  y = c(0.8,0.3, 0.75, 0.3),\n  gp = gpar(lwd = 2, fontsize = 12, lineheight = 0.7))\n\ncircle1 &lt;- circleGrob(\n  r = 0.080,\n  x = c(0.02,0.2,0.45,0.70),\n  y = c(0.5,0.5,0.5,0.5),\n  gp = gpar(lty = 1, fill = NA)\n)\n\nlegend2 &lt;- gTree(children = gList(rect1, rect2, rect3,rect4,\n                                 point1,stick1,label1,circle1))\ngrid.draw(legend2)\n\n\n\n\n\n\n\n\n\nggplot() +\n  guides(\n    custom = guide_custom(\n    width = unit(5,\"cm\"),\n    height = unit(3,\"cm\"),\n    grob = legend2,\n    order = 1\n  )) + theme(\n    legend.position = \"top\",\n    legend.justification = \"center\",\n    legend.margin = margin(t = -10,b = -20,0,0),\n    plot.margin = margin(t = 10,10,10,10)\n  )\n\n\n\n\n\n\n\n\n\nlibrary(tidyverse)\n\n‚îÄ‚îÄ Attaching core tidyverse packages ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ tidyverse 2.0.0 ‚îÄ‚îÄ\n‚úî dplyr     1.1.4     ‚úî readr     2.1.5\n‚úî forcats   1.0.0     ‚úî stringr   1.5.1\n‚úî lubridate 1.9.3     ‚úî tibble    3.2.1\n‚úî purrr     1.0.2     ‚úî tidyr     1.3.1\n‚îÄ‚îÄ Conflicts ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ tidyverse_conflicts() ‚îÄ‚îÄ\n‚úñ dplyr::filter() masks stats::filter()\n‚úñ dplyr::lag()    masks stats::lag()\n‚Ñπ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\ndf1 &lt;- tibble(\n  fecha = ymd(\"1976-01-01\") + years(0:45),\n  pregunta = c(\"Expect graduate or\\nprofessional degree\"),\n    generacion = c(\"Baby\\\\nBoomers\", \"Baby\\\\nBoomers\", \"Baby\\\\nBoomers\", \"Baby\\\\nBoomers\", \"Baby\\\\nBoomers\", \"Baby\\\\nBoomers\", \"Baby\\\\nBoomers\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Milenials\", \"Milenials\", \"Milenials\", \"Milenials\", \"Milenials\", \"Milenials\", \"Milenials\", \"Milenials\", \"Milenials\", \"Milenials\", \"Milenials\", \"Milenials\", \"Milenials\", \"Milenials\", \"Gen Z\", \"Gen Z\", \"Gen Z\", \"Gen Z\", \"Gen Z\", \"Gen Z\", \"Gen Z\", \"Gen Z\", \"Gen Z\"),\n  valor = c(25,  28, 36, 37, 36, 35, 35.7, 36, 36.5, 37, 38, 39, 40, 42, 41, 42, 45, 50, 52, 55, 561, 56, 55, 57, 58, 59, 60, 58, 57, 54, 55, 52, 60, 56, 56, 56.9, 55, 57, 54, 52, 48, 47, 45, 48, 47, 46.8)\n)\n\ndf2 &lt;- tibble(\n  fecha = ymd(\"1976-01-01\") + years(0:45),\n  pregunta = c(\"Expect professional job\"),\n    generacion = c(\"Baby\\\\nBoomers\", \"Baby\\\\nBoomers\", \"Baby\\\\nBoomers\", \"Baby\\\\nBoomers\", \"Baby\\\\nBoomers\", \"Baby\\\\nBoomers\", \"Baby\\\\nBoomers\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Milenials\", \"Milenials\", \"Milenials\", \"Milenials\", \"Milenials\", \"Milenials\", \"Milenials\", \"Milenials\", \"Milenials\", \"Milenials\", \"Milenials\", \"Milenials\", \"Milenials\", \"Milenials\", \"Gen Z\", \"Gen Z\", \"Gen Z\", \"Gen Z\", \"Gen Z\", \"Gen Z\", \"Gen Z\", \"Gen Z\", \"Gen Z\"),\n  valor = c(25,  28, 36, 37, 36, 35, 35.7, 36, 36.5, 37, 38, 39, 40, 42, 41, 42, 45, 50, 52, 55, 561, 56, 55, 57, 58, 59, 60, 58, 57, 54, 55, 52, 60, 56, 56, 56.9, 55, 57, 54, 52, 48, 47, 45, 48, 47, 46.8)\n)\n\ndf3 &lt;- tibble(\n  fecha = ymd(\"1976-01-01\") + years(0:45),\n  pregunta = c(\"Expect own more\\nthan parents\"),\n  generacion = c(\"Baby\\\\nBoomers\", \"Baby\\\\nBoomers\", \"Baby\\\\nBoomers\", \"Baby\\\\nBoomers\", \"Baby\\\\nBoomers\", \"Baby\\\\nBoomers\", \"Baby\\\\nBoomers\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Gen X\", \"Milenials\", \"Milenials\", \"Milenials\", \"Milenials\", \"Milenials\", \"Milenials\", \"Milenials\", \"Milenials\", \"Milenials\", \"Milenials\", \"Milenials\", \"Milenials\", \"Milenials\", \"Milenials\", \"Gen Z\", \"Gen Z\", \"Gen Z\", \"Gen Z\", \"Gen Z\", \"Gen Z\", \"Gen Z\", \"Gen Z\", \"Gen Z\"),\n  valor = c(25,  28, 36, 37, 36, 35, 35.7, 36, 36.5, 37, 38, 39, 40, 42, 41, 42, 45, 50, 52, 55, 561, 56, 55, 57, 58, 59, 60, 58, 57, 54, 55, 52, 60, 56, 56, 56.9, 55, 57, 54, 52, 48, 47, 45, 48, 47, 46.8)\n)\n\ndf &lt;- bind_rows(df1, df2, df3)\n\n\nggplot(\n  data = df,\n  mapping = aes(\n    x = fecha\n  )\n) +\n  labs(\n    title = \"Future outcome expectations among U.S. 12th graders\"\n  ) +\n  guides(\n    custom2 = guide_custom(\n      width = unit(5,\"cm\"),\n      height = unit(3,\"cm\"),\n      grob = legend1,\n      order = 2\n    ),\n    custom = guide_custom(\n    width = unit(5,\"cm\"),\n    height = unit(3,\"cm\"),\n    grob = legend2,\n    order = 1\n  )) + theme(\n    legend.position = \"top\",\n    legend.justification = \"center\",\n    legend.margin = margin(t = -10,b = -20,0,0),\n    plot.margin = margin(t = 10,10,10,10),\n    plot.title = element_text(\n      family = \"Roboto\",\n      hjust = 0.5,\n      size = 16,\n      margin = margin(b = 15)\n      )\n  )\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nVisualizaci√≥n Avanzada con ggplot2: Creando Gr√°ficos Impresionantes\nSi ya tienes experiencia creando gr√°ficos con ggplot2 y buscas llevar tus habilidades al siguiente nivel, este es el curso que estabas buscando:\n\nFecha de inicio: lunes 6 de mayo de 2024.\nPrecio: $99 USD.\nModalidad: 100% online via Zoom.\nDuraci√≥n: 6 semanas, clase todos los lunes 6:00 p.m hora de Costa Rica (UTC-6).\n\nLeer m√°s sobre el curso\n\n\n\n\n\n\n\n\n\nEste blog libera su contenido bajo la Licencia Creative Commons CC0, permitiendo a los usuarios copiar, modificar, distribuir y utilizar todo el trabajo, ya sea para prop√≥sitos comerciales o no, sin necesidad de pedir permiso o proporcionar atribuci√≥n al autor."
  }
]